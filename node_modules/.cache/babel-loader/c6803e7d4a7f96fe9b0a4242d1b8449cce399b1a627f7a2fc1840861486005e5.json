{"ast":null,"code":"var _jsxFileName = \"/home/manraj/CPSC_349/Homework3/movie_app/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport MovieCard from \"./MovieCard\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_KEY = \"a75f185e68cae04a6d218be886d02a01\";\nconst BASE_URL = \"https://api.themoviedb.org/3\";\nconst IMG_BASE_URL = \"https://image.tmdb.org/t/p/w500\";\nfunction App() {\n  _s();\n  const [movies, setMovies] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [sortOption, setSortOption] = useState(\"\");\n  useEffect(() => {\n    fetchMovies();\n    // eslint-disable-next-line\n  }, [currentPage, searchQuery, sortOption]);\n  const fetchMovies = async () => {\n    let endpoint = \"\";\n    if (searchQuery) {\n      endpoint = `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${encodeURIComponent(searchQuery)}&page=${currentPage}`;\n    } else {\n      const sortBy = sortOption || \"popularity.desc\";\n      endpoint = `${BASE_URL}/discover/movie?api_key=${API_KEY}&sort_by=${sortBy}&page=${currentPage}`;\n    }\n    try {\n      const response = await fetch(endpoint);\n      const data = await response.json();\n      if (data.results && data.results.length > 0) {\n        setMovies(data.results);\n        setTotalPages(data.total_pages);\n      } else {\n        setMovies([]);\n      }\n    } catch (error) {\n      console.error(\"Error fetching movies:\", error);\n    }\n  };\n  const handleSearchChange = e => {\n    setSearchQuery(e.target.value.trim());\n    setCurrentPage(1);\n  };\n  const handleSortChange = e => {\n    setSortOption(e.target.value);\n    setCurrentPage(1);\n  };\n  const handlePrevPage = () => {\n    if (currentPage > 1) setCurrentPage(currentPage - 1);\n  };\n  const handleNextPage = () => {\n    if (currentPage < totalPages) setCurrentPage(currentPage + 1);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Movie Explorer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search for a movie...\",\n        value: searchQuery,\n        onChange: handleSearchChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: sortOption,\n        onChange: handleSortChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Sort By\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"release_date.asc\",\n          children: \"Release Date (Asc)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"release_date.desc\",\n          children: \"Release Date (Desc)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"vote_average.asc\",\n          children: \"Rating (Asc)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"vote_average.desc\",\n          children: \"Rating (Desc)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"movieContainer\",\n        className: \"movie_grid\",\n        children: movies.length > 0 ? movies.map(movie => /*#__PURE__*/_jsxDEV(MovieCard, {\n          title: movie.title,\n          releaseDate: movie.release_date,\n          rating: movie.vote_average,\n          poster: movie.poster_path ? `${IMG_BASE_URL}${movie.poster_path}` : \"https://via.placeholder.com/300x450?text=No+Image\"\n        }, movie.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            textAlign: \"center\",\n            width: \"100%\"\n          },\n          children: \"No movies found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePrevPage,\n        disabled: currentPage === 1,\n        children: \"Previous\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        id: \"page_number\",\n        children: [\"Page \", currentPage, \" of \", totalPages]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleNextPage,\n        disabled: currentPage === totalPages,\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"ZdFi55TYVIdkXyI8kByji2GAHYA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","MovieCard","jsxDEV","_jsxDEV","API_KEY","BASE_URL","IMG_BASE_URL","App","_s","movies","setMovies","currentPage","setCurrentPage","totalPages","setTotalPages","searchQuery","setSearchQuery","sortOption","setSortOption","fetchMovies","endpoint","encodeURIComponent","sortBy","response","fetch","data","json","results","length","total_pages","error","console","handleSearchChange","e","target","value","trim","handleSortChange","handlePrevPage","handleNextPage","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","id","map","movie","title","releaseDate","release_date","rating","vote_average","poster","poster_path","style","textAlign","width","onClick","disabled","_c","$RefreshReg$"],"sources":["/home/manraj/CPSC_349/Homework3/movie_app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport MovieCard from \"./MovieCard\";\nimport \"./App.css\";\n\nconst API_KEY = \"a75f185e68cae04a6d218be886d02a01\";\nconst BASE_URL = \"https://api.themoviedb.org/3\";\nconst IMG_BASE_URL = \"https://image.tmdb.org/t/p/w500\";\n\nfunction App() {\n  const [movies, setMovies] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [sortOption, setSortOption] = useState(\"\");\n\n  useEffect(() => {\n    fetchMovies();\n    // eslint-disable-next-line\n  }, [currentPage, searchQuery, sortOption]);\n\n  const fetchMovies = async () => {\n    let endpoint = \"\";\n\n    if (searchQuery) {\n      endpoint = `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${encodeURIComponent(\n        searchQuery\n      )}&page=${currentPage}`;\n    } else {\n      const sortBy = sortOption || \"popularity.desc\";\n      endpoint = `${BASE_URL}/discover/movie?api_key=${API_KEY}&sort_by=${sortBy}&page=${currentPage}`;\n    }\n\n    try {\n      const response = await fetch(endpoint);\n      const data = await response.json();\n\n      if (data.results && data.results.length > 0) {\n        setMovies(data.results);\n        setTotalPages(data.total_pages);\n      } else {\n        setMovies([]);\n      }\n    } catch (error) {\n      console.error(\"Error fetching movies:\", error);\n    }\n  };\n\n  const handleSearchChange = (e) => {\n    setSearchQuery(e.target.value.trim());\n    setCurrentPage(1);\n  };\n\n  const handleSortChange = (e) => {\n    setSortOption(e.target.value);\n    setCurrentPage(1);\n  };\n\n  const handlePrevPage = () => {\n    if (currentPage > 1) setCurrentPage(currentPage - 1);\n  };\n\n  const handleNextPage = () => {\n    if (currentPage < totalPages) setCurrentPage(currentPage + 1);\n  };\n\n  return (\n    <div className=\"app-container\">\n      <header>\n        <h1>Movie Explorer</h1>\n      </header>\n\n      <div className=\"controls\">\n        <input\n          type=\"text\"\n          placeholder=\"Search for a movie...\"\n          value={searchQuery}\n          onChange={handleSearchChange}\n        />\n        <select value={sortOption} onChange={handleSortChange}>\n          <option value=\"\">Sort By</option>\n          <option value=\"release_date.asc\">Release Date (Asc)</option>\n          <option value=\"release_date.desc\">Release Date (Desc)</option>\n          <option value=\"vote_average.asc\">Rating (Asc)</option>\n          <option value=\"vote_average.desc\">Rating (Desc)</option>\n        </select>\n      </div>\n\n      <main>\n        <div id=\"movieContainer\" className=\"movie_grid\">\n          {movies.length > 0 ? (\n            movies.map((movie) => (\n              <MovieCard\n                key={movie.id}\n                title={movie.title}\n                releaseDate={movie.release_date}\n                rating={movie.vote_average}\n                poster={\n                  movie.poster_path\n                    ? `${IMG_BASE_URL}${movie.poster_path}`\n                    : \"https://via.placeholder.com/300x450?text=No+Image\"\n                }\n              />\n            ))\n          ) : (\n            <p style={{ textAlign: \"center\", width: \"100%\" }}>\n              No movies found.\n            </p>\n          )}\n        </div>\n      </main>\n\n      <footer>\n        <button onClick={handlePrevPage} disabled={currentPage === 1}>\n          Previous\n        </button>\n        <span id=\"page_number\">\n          Page {currentPage} of {totalPages}\n        </span>\n        <button onClick={handleNextPage} disabled={currentPage === totalPages}>\n          Next\n        </button>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}